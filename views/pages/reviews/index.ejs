<div class="mb-5 text-center">
  <h1 class="mb-3">Halaman Review</h1>
  <p class="justified">
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequatur
    voluptas soluta dignissimos praesentium, a perspiciatis eius ullam facilis
    quae quo! <br />
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos, debitis. Lorem
    ipsum dolor sit amet.
  </p>
</div>

<div class="mb-3 ms-4">
  <a href="/reviews/chooseOrder" class="btn btn-dark shadow">
    <img src="assets/fi_plus.png" alt="" width="20px" class="pb-1 me-1" />
    Tambahkan Review
  </a>
</div>

<div class="table-container my-3 mx-4">
  <div class="table-responsive">
    <table class="table table-hover table-striped rounded-table">
      <thead class="table-dark">
        <tr class="text-center">
          <th scope="col">ID</th>
          <th scope="col">Customer</th>
          <th scope="col">Product</th>
          <th scope="col">Rating</th>
          <th scope="col">Comment</th>
          <th scope="col">Create Date</th>
          <th scope="col">Update Date</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody class="bg-light text-dark text-center align-middle">
        <% reviews.map((review)=> { %>
          <tr>
            <th scope="row">
              <%= review.id %>
            </th>
            <td>
              <%= review.customer.firstName %>
                <%= review.customer.lastName %>
            </td>
            <td>
              <%= review.product.name %>
            </td>
            <td>
              <% for(let i=1; i<=5; i++) { %>
                <% if (i <=review.rating) { %>
                  <i class="fa fa-star text-warning"></i>
                <% } else { %>
                  <i class="fa fa-star text-secondary"></i>
                <% } %>
              <% } %>
            </td>
            <td>
              <%= review.comment %>
            </td>
            <td>
              <%= review.createdAt.toLocaleString('id-ID') %>
            </td>
            <td>
              <%= review.updatedAt.toLocaleString('id-ID') %>
            </td>
            <td>
              <div class="d-flex justify-content-center gap-3">
                <!-- button for edit data -->
                <button class="btn btn-success">
                  <i class="fa-solid fa-pen-to-square"></i>
                </button>

                <!-- button for view data -->
                <button class="btn btn-warning">
                  <i class="fa-regular fa-eye"></i>
                </button>

                <!-- button for delete data -->
                <form action="/reviews/delete/<%= review.id %>" method="post">
                  <button class="btn btn-outline-danger">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                </form>
              </div>
            </td>
          </tr>
          <% }) %>
      </tbody>
    </table>
  </div>
</div>

<% if (alert.message !=null) { %>
  <div class="alert alert-<%= alert.type %> alert-dismissible w-75 position-fixed z-3" role="alert" id="live-alert">
    <div>
      <%= alert.message[0] %>
    </div>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  <% } %>